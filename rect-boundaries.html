<body>
</body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

var width = 500,
    height = 500;

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);
    
d3.selectAll("svg").append("rect")
    .attr("x", 100)
    .attr("y", 100)
    .attr("width", 300)
    .attr("height", 300)
    .attr("fill", "none")
    .attr("stroke", "black")
    .style("stroke-width", 20)
    .style("opacity", 0.3)
d3.selectAll("svg").append("rect")
    .attr("x", 100)
    .attr("y", 100)
    .attr("width", 300)
    .attr("height", 300)
    .attr("fill", "none")
    .attr("stroke", "black")
    .style("stroke-width", 1)
    .style("opacity", 1)
  
  var strokeWidth = 10;
  d3.selectAll("svg").append("rect")
    .attr("x", strokeWidth / 2)
    .attr("y", strokeWidth / 2)
    .attr("width", function() {
      return this.ownerSVGElement.width.baseVal.value - strokeWidth;
    })
    .attr("height", function() {
      return this.ownerSVGElement.height.baseVal.value - strokeWidth;
    }).attr("fill", "none")
    .attr("stroke", "black")
    .style("stroke-width", strokeWidth)
    .style("opacity", 0.5)

</script>
